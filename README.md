# Telegram-Find-Jav-bot

Telegram 番号机器人源码

这是一个基于 Node.js 和 Telegram Bot API 的机器人，支持番号查询、群组统计、自动加群按钮等多种功能。

---

## 主要功能

- **/start**  
  发送欢迎消息。

- **/state**  
  显示机器人的工作状态。  
  `/state` 查看最近5天的工作状态，`/state n`（n为数字）查看最近n天的工作状态。

- **/av 车牌号**  
  查询番号信息，返回结果和磁力链接，并在消息下方自动带有"加群"按钮。

- **/usercount**  
  统计机器人的总用户数量，并列出正在使用机器人的用户信息。

- **群组统计与管理**  
  - 自动记录机器人加入的所有群组（仅群聊，去重）。
  - 自动统计每个群的成员数。
  - 自动获取并保存群的邀请链接（需机器人为管理员且有权限）。
  - 支持 `/groupcount` 命令统计机器人加入的群组数量，并分页显示群名、成员数、进群链接。
  - 支持 `/next` 和 `/prev` 命令翻页查看群组信息。
  - 机器人被拉进新群时自动记录群信息，被踢出群时自动移除群信息。
  - 群名变更时自动更新。

- **加群引流按钮**  
  所有查询结果下方自动带有两个自定义"加群"按钮，支持自定义按钮文字和跳转链接。

---

## 使用和启动

1. 安装 Node.js [前往下载](https://nodejs.org/zh-cn/download/)（建议最新版）
2. 下载本项目源码到本地
   ```bash
   git clone https://github.com/nrop19/Find-Jav-bot.git
   ```
3. 安装依赖
   ```bash
   npm install
   ```
4. （可选）全局安装 pm2 进行进程管理
   ```bash
   npm install -g pm2
   ```
5. 编辑 `index.js`，在第二行填入你的 Telegram 机器人 Token
   ```javascript
   const token = '你的机器人Token';
   ```
6. （可选）自定义加群按钮链接和文案，在文件顶部修改
   ```javascript
   const groupLink1 = 'https://t.me/your_group_link1';
   const groupLink2 = 'https://t.me/your_group_link2';
   ```
7. 启动机器人
   ```bash
   node index.js
   # 或使用 pm2
   pm2 start pm2.json
   ```

---

## 数据持久化

- 机器人会自动将所有已加入群组的信息（群ID、群名、成员数、邀请链接）保存到 `groups.json` 文件，重启后自动加载。
- 如果机器人有权限，会自动获取群的邀请链接，否则可手动在 `groups.json` 中补充。

---

## 注意事项

- 机器人需要在群里拥有"邀请用户"权限，才能自动获取群邀请链接。
- 仅统计群聊（group/supergroup），不会统计私聊。
- 旧数据（无成员数/邀请链接）会显示为"未知"或无链接，新群会自动补全。
- 机器人被拉进新群时自动记录，被踢出群时自动移除，群名变更时自动更新。

---

## 常见命令

| 命令 | 功能 |
|------|------|
| `/start` | 机器人欢迎信息 |
| `/state` | 查询工作状态 |
| `/av 车牌号` | 查询番号信息 |
| `/usercount` | 统计用户 |
| `/groupcount` | 统计群组数量并分页显示 |
| `/next` | 群组分页下一页 |
| `/prev` | 群组分页上一页 |

---

## 免责声明

本机器人仅供学习与交流，禁止用于任何非法用途。



